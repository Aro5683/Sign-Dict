<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign Dict - Deaf Learning</title>
  <style>
    /* --- Reset & Base --- */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #fdf6e3; color: #333; line-height:1.5; }
    a { color: #333; text-decoration: none; }
    h1,h2,h3 { margin-bottom: 10px; }

    /* --- Header --- */
    header { background: #ffcc80; padding: 15px 20px; display:flex; justify-content: space-between; align-items:center; border-bottom: 3px solid #ffa726; border-radius:0 0 15px 15px; }
    header h1 { font-size: 28px; color: #e65100; font-weight:bold; }
    nav a { margin-left: 20px; font-weight: bold; color:#e65100; transition:0.3s; }
    nav a:hover { color:#fb8c00; }

    /* --- Container --- */
    .container { max-width: 1000px; margin: 30px auto; padding: 0 20px; }

    /* --- About Section --- */
    .about { background:#fff3e0; padding:20px; border-radius:12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom:30px; }
    .about p { color:#5d4037; font-size:16px; }

    /* --- Search Box --- */
    .search-box { background:#fff3e0; padding:20px; border-radius:12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); position:relative; }
    .search-box input { width:100%; padding:14px 50px 14px 14px; font-size:16px; border-radius:8px; border:1px solid #ffa726; outline:none; background:#fff; color:#333; }
    .mic-btn { position:absolute; right:25px; top:22px; background:#ff7043; border:none; border-radius:50%; width:36px; height:36px; cursor:pointer; color:white; font-weight:bold; font-size:18px; }

    /* --- Results --- */
    .results { margin-top:20px; display:grid; grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap:20px; }
    .video { background:#ffe0b2; padding:10px; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
    .video iframe { width:100%; height:210px; border-radius:12px; border:none; }
    .title { margin-top:8px; font-size:16px; font-weight:bold; color:#e65100; text-align:center; }

    /* --- Footer --- */
    footer { background:#ffcc80; text-align:center; padding:15px; margin-top:40px; border-top:3px solid #ffa726; color:#5d4037; border-radius:15px 15px 0 0; }

  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <h1>Sign Dict</h1>
    <nav>
      <a href="#home">Home</a>
      <a href="#about">About</a>
    </nav>
  </header>

  <div class="container">

    <!-- About -->
    <section id="about" class="about">
      <h2>About This Site</h2>
      <p>This site is designed to help deaf students learn concepts and stories through videos. 
         Search for keywords and watch videos with sandboxed iframes for safe viewing. You can also use the microphone button to speak your query. Bright, cheerful colors make learning easier and fun!</p>
    </section>

    <!-- Search Box -->
    <section id="home" class="search-box">
      <h2>Search Channel Videos</h2>
      <input type="text" id="search" placeholder="Type keyword...">
      <button class="mic-btn" id="mic">ðŸŽ¤</button>
      <div id="results" class="results"></div>
    </section>

  </div>

  <!-- Footer -->
  <footer>
    &copy; 2025 Sign Dict. Designed for Deaf Students Learning.
  </footer>

  <script>
    const videos = [
       { "title": "An Ant went to a Sugar Hill", "id": "Cm0_rbpUzao" },
       { "title": "Thus saw Arjuna", "id": "-QKXmGJMyGg" },
       { "title": "When All Teeth Fall", "id": "AF4MTwCKQLw" },
       { "title": "Ka Ka Ka", "id": "epTWE7xIX5U" },
       { "title": "Then, What's the Way", "id": "iRUB2agT2sc" }
    ];

    const searchInput = document.getElementById("search");
    const resultsDiv = document.getElementById("results");
    const micBtn = document.getElementById("mic");

    function renderResults(query) {
      resultsDiv.innerHTML = "";
      if (query.length === 0) return;

      const filtered = videos.filter(v => v.title.toLowerCase().includes(query.toLowerCase()));
      filtered.slice(0, 10).forEach(v => {
        const div = document.createElement("div");
        div.className = "video";
        div.innerHTML = `
          <iframe src="https://www.youtube.com/embed/${v.id}?autoplay=1&controls=1&modestbranding=0&rel=0&loop=1"
                  allow="autoplay; encrypted-media"
                  allowfullscreen
                  sandbox="allow-scripts allow-same-origin allow-popups"></iframe>
          <div class="title">${v.title}</div>
        `;
        resultsDiv.appendChild(div);
      });
    }

    searchInput.addEventListener("input", () => renderResults(searchInput.value));

    // --- Speech Recognition ---
    micBtn.addEventListener("click", () => {
      if (!('webkitSpeechRecognition' in window)) {
        alert("Your browser does not support speech recognition.");
        return;
      }

      const recognition = new webkitSpeechRecognition();
      recognition.lang = "en-US";
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.start();

      recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        searchInput.value = transcript;
        renderResults(transcript);
      };

      recognition.onerror = (event) => {
        console.error("Speech recognition error", event.error);
      };
    });
  </script>
</body>
</html>
